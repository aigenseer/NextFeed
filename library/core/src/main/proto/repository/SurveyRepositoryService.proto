syntax = "proto3";

import public "core/DTOEntities.proto";
import public "core/Requests.proto";
import public "core/Response.proto";
option java_multiple_files = true;
option java_package = "com.nextfeed.library.core.proto.repository";
option java_outer_classname = "SurveyRepositoryServiceProto";

service SurveyRepositoryService {
  rpc saveSurvey (SurveyDTO) returns (SurveyDTO) {}
  rpc findSurveyById (IDRequest) returns (OptionalSurveyDTO) {}
  rpc saveAnswer (SurveyAnswerDTO) returns (SurveyAnswerDTO) {}
  rpc existsSurveyAnswerByParticipant (ExistsSurveyAnswerByParticipantRequest) returns (BooleanResponse) {}
  rpc saveTemplate (SurveyTemplateDTO) returns (SurveyTemplateDTO) {}
  rpc findAllTemplates (Empty) returns (SurveyTemplateDTOList) {}
  rpc findTemplateById (IDRequest) returns (OptionalSurveyTemplateDTO) {}
  rpc findBySessionId (IDRequest) returns (SurveyDTOList) {}
  rpc deleteAllBySessionId (IDRequest) returns (Empty) {}
  rpc closeSurvey (IDRequest) returns (OptionalSurveyDTO) {}
}

message ExistsSurveyAnswerByParticipantRequest{
  int32 surveyId = 1;
  int32 participantId = 2;
}






